{"version":3,"sources":["download.js"],"names":["define","types","diskfs","downlad","data","name","a","window","navigator","msSaveBlob","isString","dataURItoBlob","document","createElement","Blob","URL","createObjectURL","href","setAttribute","click"],"mappings":";;;;;;;AAAAA,OAAO,CACH,sBACA,YACF,SAASC,EAAMC,GAoBb,OAAOA,EAAOC,QAlBd,SAAsBC,EAAMC,GACxB,IAMQC,EANJC,OAAOC,UAAUC,YACbR,EAAMS,SAASN,CAAI,IACnBA,EAAOO,cAAcP,CAAI,GAE7BG,OAAOC,UAAUC,WAAWL,EAAMC,CAAI,IAElCC,EAAIM,SAASC,cAAc,GAAG,EAC9BT,aAAgBU,OAChBV,EAAOW,IAAIC,gBAAgBZ,CAAI,GAEnCE,EAAEW,KAAOb,EACTE,EAAEY,aAAa,WAAYb,GAAQ,QAAQ,EAE3CC,EAAEa,MAAM,EAEhB,CAIJ,CAAC","file":"../download.js","sourcesContent":["define([\r\n    \"skylark-langx/types\",\r\n    \"./diskfs\"\r\n],function(types,diskfs){\r\n\r\n    function downloadFile(data, name) {\r\n        if (window.navigator.msSaveBlob) {\r\n            if (types.isString(data)) {\r\n                data = dataURItoBlob(data);\r\n            }\r\n            window.navigator.msSaveBlob(data, name);\r\n        } else {\r\n            var a = document.createElement('a');\r\n            if (data instanceof Blob) {\r\n                data = URL.createObjectURL(data);\r\n            }\r\n            a.href = data;\r\n            a.setAttribute('download', name || 'noname');\r\n            //a.dispatchEvent(new CustomEvent('click'));\r\n            a.click();\r\n        }\r\n    }\r\n\r\n    return diskfs.downlad = downloadFile;\r\n\r\n});\r\n"]}