{"version":3,"sources":["pastezone.js"],"names":["define","objects","eventer","filer","pastezone","elm","params","pastedCallback","hoverClass","pasted","on","e","items","originalEvent","clipboardData","files","length","each","index","item","file","getAsFile","push","this"],"mappings":";;;;;;;AAAAA,QACI,wBACA,4BACA,WACF,SAASC,EAASC,EAASC,GACzB,QAASC,GAAUC,EAAKC,GACpBA,EAASA,KACT,IACIC,IADaD,EAAOE,YAAc,YACjBF,EAAOG,OAmB5B,OAjBAP,GAAQQ,GAAGL,EAAK,QAAS,SAASM,GAC9B,GAAIC,GAAQD,EAAEE,eAAiBF,EAAEE,cAAcC,eAC3CH,EAAEE,cAAcC,cAAcF,MAC9BG,IACAH,IAASA,EAAMI,QACff,EAAQgB,KAAKL,EAAO,SAASM,EAAOC,GAChC,GAAIC,GAAOD,EAAKE,WAAaF,EAAKE,WAC9BD,IACAL,EAAMO,KAAKF,KAInBb,GAAkBQ,EAAMC,QACxBT,EAAeQ,KAIhBQ,KAGX,MAAOpB,GAAMC,UAAYA","file":"../pastezone.js","sourcesContent":["define([\r\n    \"skylark-langx/objects\",\r\n    \"skylark-utils-dom/eventer\",\r\n    \"./filer\"\r\n],function(objects, eventer, filer){\r\n    function pastezone(elm, params) {\r\n        params = params || {};\r\n        var hoverClass = params.hoverClass || \"pastezone\",\r\n            pastedCallback = params.pasted;\r\n\r\n        eventer.on(elm, \"paste\", function(e) {\r\n            var items = e.originalEvent && e.originalEvent.clipboardData &&\r\n                e.originalEvent.clipboardData.items,\r\n                files = [];\r\n            if (items && items.length) {\r\n                objects.each(items, function(index, item) {\r\n                    var file = item.getAsFile && item.getAsFile();\r\n                    if (file) {\r\n                        files.push(file);\r\n                    }\r\n                });\r\n            }\r\n            if (pastedCallback && files.length) {\r\n                pastedCallback(files);\r\n            }\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    return filer.pastezone = pastezone;\r\n\r\n});\r\n"]}